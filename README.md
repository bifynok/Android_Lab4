# Android_Lab2

## Що зроблено в даній лабораторній роботі?

### Користувацький інтерфейс

Інтерфейс складається з декількох LinearLayout, що логічно розміщують в собі певні компоненти.

Зверху розташовані дві кнопки, одна для вікриття файлу з файлової системи, інша - для введення Url.

Далі розташовний приховани макет, що містить поле для вводу url-посилання та кнопки підтвердження.

Останніми ж, розташовуються VideoView для відображення відеоряду, та макет media_controls, що має примітивні інструменти для керування відео або аудіо: прогрессбар для відстеження та перемоткою, та дві кнопки призупинити/продовжити та зупинити.
Ці компоненти також спочатку приховані.

### Логіка

При отриманні файлу з файлової системи, програма отримує uri файлу та в залежності від отриманого типу файлу запускає метод playVideo або playAudio.

Також програма може відтворювати файли з інтернету. При натисканні <i>Open URL</i> відобразиться поле куди потрібно копіювати адресу файлу та підтвердити. Нажаль ця функція працює тільки з незахищеними файлами, тому з YouTube не вийде запустити, але можна запустити наприклад відео з сайту Sample-Videos.

При завершенні програми звільняються ресурси плєєру.

#### У випадку playVideo

VideoView та прогрессбар з кнопками для управління відео стають видимими на екрані.
Uri відео передається в VideoView, де вже завантажується відео, після завантаження <i>videoView.setOnPreparedListener</i>, відео відразу починає своє відтворення.
Також до відео прив'язується прогрессбар.
P.S. якщо до цього запускалось аудіо та не закривалось, воно спершу завершить MediaPlayer, а потім почне завантажувати відео.

#### У випадку playAudio

У випадку з аудіо дії схожі з тим, що відбувалось з відео, але uri аудіо завантажуються в MediaPlayer, де після асинхронного завантаження <i>prepareAsync()</i> починається відтворення.
Також якщо до цього було запущено відео і не закрито, VideoView завершується та ховає його відображення.
